## AE Instruction to run Distrifusion

### Preparation

cd /workspace/distrifuser-controlnet

source activate pytorch

conda activate distrifuser

### Run the benchmark

python3 run_ae_distrifuser.py --num_controlnets 0 --num_loras 0

python3 run_ae_distrifuser.py --num_controlnets 1 --num_loras 0

python3 run_ae_distrifuser.py --num_controlnets 0 --num_loras 1

python3 run_ae_distrifuser.py --num_controlnets 1 --num_loras 1

python3 run_ae_distrifuser.py --num_controlnets 2 --num_loras 2

python3 run_ae_distrifuser.py --num_controlnets 3 --num_loras 2

### Results

Logfolder: ``/workspace/distrifuser-controlnet/distrifuser_benchmark_logs``

Each file stores the log for one setting. The latency of one inference is recorded as ``End2End inference latency: 8.39``, where 8.39 is the end2end inference latency.

Sample image folder path: ``/home/ubuntu/distrifuser-controlnet/distrifuser_images``.

Each subfolder stores the images generated by one setting.

